{"version":3,"sources":["components/searchBar/Searchbar.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/loader/Loadered.js","components/errorNotify/ErrorNotify.js","components/button/Button.js","components/modal/Modal.js","App.js","index.js"],"names":["Searchbar","onSubmitForm","className","onSubmit","type","autoComplete","autoFocus","placeholder","ImageGalleryItem","everyItem","onOpen","src","webformatURL","alt","onClick","largeImageURL","prototype","galeryItem","PropTypes","arrayOf","shape","id","string","isRequired","ImageGallery","map","item","key","Loadered","style","position","top","left","right","bottom","display","justifyContent","alignItems","height","backgroundColor","color","width","timeout","ErrorNotify","text","Button","uploadMoreImg","Modal","handleKeyDown","props","onClose","closeByClick","target","currentTarget","window","addEventListener","this","removeEventListener","url","Component","App","state","searchQuery","page","isLoading","error","openModal","e","a","preventDefault","setState","elements","value","prevState","startNewImagesSearch","setLargeImage","largeImageUrl","toggleModal","prevProps","scrollTo","document","documentElement","scrollHeight","behavior","BASE_URL","process","axios","get","then","data","hits","catch","finally","message","length","ReactDOM","render","getElementById"],"mappings":"wQAuBeA,G,MArBG,SAAC,GAAoB,IAAnBC,EAAkB,EAAlBA,aAChB,OACI,4BAAQC,UAAU,aAClB,0BAAMA,UAAU,aAAaC,SAAUF,GACrC,4BAAQG,KAAK,SAASF,UAAU,qBAC9B,0BAAMA,UAAU,2BAAhB,WAGF,2BACEA,UAAU,mBACVE,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,iC,gBCZlBC,EAAmB,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,UAAWC,EAAa,EAAbA,OACrC,OACE,oCACE,wBAAIR,UAAU,oBACZ,yBACES,IAAKF,EAAUG,aACfC,IAAKJ,EAAUL,KACfF,UAAU,yBACVY,QAAS,kBAAMJ,EAAOD,EAAUM,qBAO1CP,EAAiBQ,UAAY,CAC3BC,WAAYC,IAAUC,QACpBD,IAAUE,MAAM,CACdC,GAAIH,IAAUI,OACdP,cAAeG,IAAUI,OACzBlB,KAAMc,IAAUI,SACfC,YACHA,YAGWf,QCTAgB,EAhBM,SAAC,GAA2C,IAAzCP,EAAwC,EAAxCA,WAAYF,EAA4B,EAA5BA,cAAeL,EAAa,EAAbA,OACjD,OACE,wBAAIR,UAAU,gBACXe,EAAWQ,KAAI,SAAAC,GAAI,OAClB,kBAAC,EAAD,CACEjB,UAAWiB,EACXC,IAAKD,EAAKL,GACVJ,WAAYA,EACZP,OAAQA,EACRK,cAAeA,S,0CCQVa,EAhBE,WACf,OACE,yBAAKC,MAAO,CAAEC,SAAU,aACtB,yBAAKD,MAAO,CAAEC,SAAU,WAAYC,IAAI,IAAKC,KAAK,IAAKC,MAAM,IAAIC,OAAO,IAAKC,QAAQ,OAAQC,eAAe,SAAUC,WAAW,SAAUC,OAAO,QAASC,gBAAgB,UACzK,kBAAC,IAAD,CACEnC,KAAK,QACLoC,MAAM,UACNF,OAAQ,IACRG,MAAO,IACPC,QAAS,SCLJC,EANK,SAAC,GAAY,IAAXC,EAAU,EAAVA,KAClB,OACA,mEAAyCA,ICM9BC,EARA,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,cACb,OAEI,4BAAQ5C,UAAU,SAASY,QAASgC,EAAe1C,KAAK,UAAxD,cC8BO2C,E,2MAxBbC,cAAgB,YACF,WADe,EAAVrB,KAEf,EAAKsB,MAAMC,W,EAIfC,aAAe,YAA+B,EAA5BC,SAA4B,EAApBC,eAEtB,EAAKJ,MAAMC,W,mFAfbI,OAAOC,iBAAiB,UAAWC,KAAKR,iB,2CAIxCM,OAAOG,oBAAoB,UAAWD,KAAKR,iB,+BAenC,IACAU,EAAQF,KAAKP,MAAbS,IACR,OACE,yBAAKxD,UAAU,WACb,yBAAKY,QAAS0C,KAAKL,aAAcjD,UAAU,SACzC,yBAAKS,IAAK+C,EAAK7C,IAAI,gB,GA1BT8C,aCkHLC,E,2MAvGbC,MAAQ,CACNC,YAAa,eACbC,KAAM,EACN9C,WAAY,GACZ+C,WAAW,EACXC,MAAO,KACPlD,cAAe,KACfmD,WAAW,G,EAwCbjE,a,uCAAe,WAAMkE,GAAN,SAAAC,EAAA,6DACbD,EAAEE,iBADW,SAEP,EAAKC,SAAS,CAClBR,YAAaK,EAAEf,OAAOmB,SAAS,GAAGC,QAHvB,uBAKP,EAAKF,SAAS,CAAErD,WAAY,KALrB,2C,wDAQf6B,c,sBAAgB,sBAAAsB,EAAA,sEACR,EAAKE,UAAS,SAAAG,GAAS,MAAK,CAAEV,KAAMU,EAAUV,KAAO,MAD7C,uBAER,EAAKW,uBAFG,2C,EAKhBC,cAAgB,SAAAC,GACd,EAAKN,SAAS,CAAEM,cAAeA,IAC/B,EAAKC,e,EAGPA,YAAc,WACZ,EAAKP,UAAS,SAAAT,GAAK,MAAK,CAAEK,WAAYL,EAAMK,e,6MAvDtCV,KAAKkB,uB,wLAGYI,EAAWL,G,0EAC1BX,EAAgBN,KAAKK,MAArBC,YACRR,OAAOyB,SAAS,CACdhD,IAAKiD,SAASC,gBAAgBC,aAC9BC,SAAU,WAERrB,IAAgBW,EAAUX,Y,gCACtBN,KAAKkB,uB,4RAKiBlB,KAAKK,MAA3BC,E,EAAAA,YAAaC,E,EAAAA,KACfqB,E,qCAAyCtB,E,iBAAoBC,E,gBA9B3DsB,qC,yDA+BR7B,KAAKc,SAAS,CACZN,WAAW,I,SAGPsB,IACHC,IAAIH,GACJI,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACP,EAAKnB,UAAS,SAAAG,GAAS,MAAK,CAC1BxD,WAAW,GAAD,mBAAMwD,EAAUxD,YAAhB,YAA+BwE,EAAKC,cAGjDC,OAAM,SAAA1B,GAAK,OAAI,EAAKK,SAAS,CAAEL,aAC/B2B,SAAQ,WACP,EAAKtB,SAAS,CACZN,WAAW,O,qIA2BT,IAAD,EAOHR,KAAKK,MALP5C,EAFK,EAELA,WACA6C,EAHK,EAGLA,YACAE,EAJK,EAILA,UACAC,EALK,EAKLA,MACAW,EANK,EAMLA,cAEF,OACE,oCACE,yBAAK1E,UAAU,OACb,kBAAC,EAAD,CACED,aAAcuD,KAAKvD,aACnB6D,YAAaA,IAEdG,GAAS,kBAAC,EAAD,CAAaA,MAAOA,EAAM4B,UACnC7B,GAAa,kBAAC,EAAD,MACb/C,EAAW6E,OAAS,GACnB,kBAAC,EAAD,CAAc7E,WAAYA,EAAYP,OAAQ8C,KAAKmB,gBAEpD1D,EAAW6E,OAAS,EACnB,kBAAC,EAAD,CAAQhD,cAAeU,KAAKV,gBAE5B,kBAAC,EAAD,MAEDU,KAAKK,MAAMK,WACV,kBAAC,EAAD,CAAOR,IAAKkB,EAAe1B,QAASM,KAAKqB,oB,GAhGnClB,aCPlBoC,IAASC,OAAO,kBAAC,EAAD,MAAShB,SAASiB,eAAe,W","file":"static/js/main.f5c8ca08.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Searchbar = ({onSubmitForm}) => {\n    return (\n        <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={onSubmitForm}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n\n    );\n}\n\nexport default Searchbar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ everyItem, onOpen }) => {\n  return (\n    <>\n      <li className=\"ImageGalleryItem\">\n        <img\n          src={everyItem.webformatURL}\n          alt={everyItem.type}\n          className=\"ImageGalleryItem-image\"\n          onClick={() => onOpen(everyItem.largeImageURL)}\n        />\n      </li>\n    </>\n  );\n};\n\nImageGalleryItem.prototype = {\n  galeryItem: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      largeImageURL: PropTypes.string,\n      type: PropTypes.string\n    }).isRequired\n  ).isRequired\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ galeryItem, largeImageURL, onOpen }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {galeryItem.map(item => (\n        <ImageGalleryItem\n          everyItem={item}\n          key={item.id}\n          galeryItem={galeryItem}\n          onOpen={onOpen}\n          largeImageURL={largeImageURL}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nconst Loadered = () => {\n  return (\n    <div style={{ position: \"relative\" }}>\n      <div style={{ position: \"absolute\", top:\"0\", left:\"0\", right:\"0\",bottom:\"0\", display:\"flex\", justifyContent:\"center\", alignItems:\"center\", height:\"100vh\", backgroundColor:\"black\"}}>\n        <Loader\n          type=\"Audio\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={2000}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Loadered;\n","import React from 'react'\n\nconst ErrorNotify = ({text}) => {\n    return (\n    <h2>OOOPPPPSSSSS, somethink went wrong: {text}</h2>\n    );\n}\n\nexport default ErrorNotify;","import React from 'react'\n\nconst Button = ({uploadMoreImg}) => {\n    return (\n        \n        <button className=\"Button\" onClick={uploadMoreImg} type=\"button\">Load more</button>\n       \n    );\n}\n\nexport default Button;","import React, { Component } from \"react\";\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillMount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = ({ key }) => {\n    if (key === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  closeByClick = ({ target, currentTarget }) => {\n    if (target !== currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { url } = this.props;\n    return (\n      <div className=\"Overlay\">\n        <div onClick={this.closeByClick} className=\"Modal\">\n          <img src={url} alt=\"photo\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Searchbar from \"./components/searchBar/Searchbar\";\nimport ImageGallery from \"./components/imageGallery/ImageGallery\";\nimport axios from \"axios\";\nimport Loadered from \"./components/loader/Loadered\";\nimport ErrorNotify from \"./components/errorNotify/ErrorNotify\";\nimport Button from \"./components/button/Button\";\nimport Modal from \"./components/modal/Modal\";\n\nconst KEY = process.env.REACT_APP_API_KEY;\n\nclass App extends Component {\n  state = {\n    searchQuery: \"corona virus\",\n    page: 1,\n    galeryItem: [],\n    isLoading: false,\n    error: null,\n    largeImageURL: null,\n    openModal: false\n  };\n\n  async componentDidMount() {\n    await this.startNewImagesSearch();\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { searchQuery } = this.state;\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\"\n    });\n    if (searchQuery !== prevState.searchQuery) {\n      await this.startNewImagesSearch();\n    }\n  }\n\n  async startNewImagesSearch() {\n    const { searchQuery, page } = this.state;\n    const BASE_URL = `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12/`;\n    this.setState({\n      isLoading: true\n    });\n\n    await axios\n      .get(BASE_URL)\n      .then(({ data }) => {\n        this.setState(prevState => ({\n          galeryItem: [...prevState.galeryItem, ...data.hits]\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({\n          isLoading: false\n        });\n      });\n  }\n\n  onSubmitForm = async e => {\n    e.preventDefault();\n    await this.setState({\n      searchQuery: e.target.elements[1].value\n    });\n    await this.setState({ galeryItem: [] });\n  };\n\n  uploadMoreImg = async () => {\n    await this.setState(prevState => ({ page: prevState.page + 1 }));\n    await this.startNewImagesSearch();\n  };\n\n  setLargeImage = largeImageUrl => {\n    this.setState({ largeImageUrl: largeImageUrl });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(state => ({ openModal: !state.openModal }));\n  };\n\n  render() {\n    const {\n      galeryItem,\n      searchQuery,\n      isLoading,\n      error,\n      largeImageUrl\n    } = this.state;\n    return (\n      <>\n        <div className=\"App\">\n          <Searchbar\n            onSubmitForm={this.onSubmitForm}\n            searchQuery={searchQuery}\n          />\n          {error && <ErrorNotify error={error.message} />}\n          {isLoading && <Loadered />}\n          {galeryItem.length > 0 && (\n            <ImageGallery galeryItem={galeryItem} onOpen={this.setLargeImage} />\n          )}\n          {galeryItem.length > 0 ? (\n            <Button uploadMoreImg={this.uploadMoreImg} />\n          ) : (\n            <ErrorNotify />\n          )}\n          {this.state.openModal && (\n            <Modal url={largeImageUrl} onClose={this.toggleModal} />\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from '../src/App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}